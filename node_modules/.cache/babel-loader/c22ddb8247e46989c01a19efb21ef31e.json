{"ast":null,"code":"import _classCallCheck from\"C:/Users/Wutzy/Desktop/OpenClassRooms/Cours/React/Reactmon/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Wutzy/Desktop/OpenClassRooms/Cours/React/Reactmon/node_modules/@babel/runtime/helpers/esm/createClass.js\";var PokemonService=/*#__PURE__*/function(){function PokemonService(){_classCallCheck(this,PokemonService);}_createClass(PokemonService,null,[{key:\"getPokemons\",value:function getPokemons(){var _this=this;return fetch('http://localhost:3001/pokemons').then(function(response){return response.json();}).catch(function(error){return _this.handleError(error);});}},{key:\"getPokemon\",value:function getPokemon(id){var _this2=this;return fetch(\"http://localhost:3001/pokemons/\".concat(id)).then(function(response){return response.json();}).then(function(data){return _this2.isEmpty(data)?null:data;}).catch(function(error){return _this2.handleError(error);});}},{key:\"updatePokemon\",value:function updatePokemon(pokemon){var _this3=this;return fetch(\"http://localhost:3001/pokemons/\".concat(pokemon.id),{method:'PUT',body:JSON.stringify(pokemon),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).catch(function(error){return _this3.handleError(error);});}},{key:\"addPokemon\",value:function addPokemon(pokemon){var _this4=this;delete pokemon.created;return fetch(\"http://localhost:3001/pokemons\",{method:'POST',body:JSON.stringify(pokemon),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).catch(function(error){return _this4.handleError(error);});}},{key:\"deletePokemon\",value:function deletePokemon(pokemon){var _this5=this;return fetch(\"http://localhost:3001/pokemons/\".concat(pokemon.id),{method:'DELETE',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).catch(function(error){return _this5.handleError(error);});}},{key:\"isEmpty\",value:function isEmpty(data){return Object.keys(data).length===0;}},{key:\"handleError\",value:function handleError(error){console.log(error);}}]);return PokemonService;}();export{PokemonService as default};","map":{"version":3,"names":["PokemonService","_classCallCheck","_createClass","key","value","getPokemons","_this","fetch","then","response","json","catch","error","handleError","getPokemon","id","_this2","concat","data","isEmpty","updatePokemon","pokemon","_this3","method","body","JSON","stringify","headers","addPokemon","_this4","created","deletePokemon","_this5","Object","keys","length","console","log","default"],"sources":["C:/Users/Wutzy/Desktop/OpenClassRooms/Cours/React/Reactmon/src/services/pokemon-service.ts"],"sourcesContent":["import Pokemon from \"../models/pokemon\";\r\n \r\nexport default class PokemonService {\r\n \r\n  static getPokemons(): Promise<Pokemon[]> {\r\n    return fetch('http://localhost:3001/pokemons')\r\n      .then(response => response.json())\r\n      .catch(error => this.handleError(error));\r\n  }\r\n \r\n  static getPokemon(id: number): Promise<Pokemon|null> {\r\n    return fetch(`http://localhost:3001/pokemons/${id}`)\r\n      .then(response => response.json())\r\n      .then(data => this.isEmpty(data) ? null : data)\r\n      .catch(error => this.handleError(error));\r\n  }\r\n  \r\n  static updatePokemon(pokemon: Pokemon): Promise<Pokemon> {\r\n    return fetch(`http://localhost:3001/pokemons/${pokemon.id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(pokemon),\r\n      headers: { 'Content-Type': 'application/json' }\r\n    })\r\n    .then(response => response.json())\r\n    .catch(error => this.handleError(error));\r\n  }\r\n\r\n  static addPokemon(pokemon: Pokemon): Promise<Pokemon> {\r\n    delete pokemon.created;\r\n\r\n    return fetch(`http://localhost:3001/pokemons`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(pokemon),\r\n      headers: { 'Content-Type': 'application/json' }\r\n    })\r\n    .then(response => response.json())\r\n    .catch(error => this.handleError(error));\r\n  }\r\n\r\n  static deletePokemon(pokemon: Pokemon): Promise<{}> {\r\n    return fetch(`http://localhost:3001/pokemons/${pokemon.id}`, {\r\n      method: 'DELETE',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    })\r\n    .then(response => response.json())\r\n    .catch(error => this.handleError(error));\r\n  }\r\n\r\n  static isEmpty(data: Object): boolean {\r\n    return Object.keys(data).length === 0;\r\n  }\r\n\r\n  static handleError(error: Error): void {\r\n    console.log(error)\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}